<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>Running Code | Danger Kube</title><meta name="description" content=""><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.15">
    <link rel="modulepreload" href="/dangerkube/assets/app.e02cfe6d.js"><link rel="modulepreload" href="/dangerkube/assets/3-running-code.html.fd2df074.js"><link rel="modulepreload" href="/dangerkube/assets/3-running-code.html.2f6006bf.js">
    <link rel="stylesheet" href="/dangerkube/assets/style.612b7ac1.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><span><a href="/dangerkube/" class=""><!----><span class="site-name">Danger Kube</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/dangerkube/guide/1-welcome.html" class="nav-link" aria-label="Welcome"><!--[--><!--]--> Welcome <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/dangerkube/guide/2-getting-started.html" class="nav-link" aria-label="Getting Started"><!--[--><!--]--> Getting Started <!--[--><!--]--></a></div><div class="navbar-links-item"><a aria-current="page" href="/dangerkube/guide/3-running-code.html" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="Running Code"><!--[--><!--]--> Running Code <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/dangerkube/guide/4-going-online.html" class="nav-link" aria-label="Going Online"><!--[--><!--]--> Going Online <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/dangerkube/guide/5-serving-requests.html" class="nav-link" aria-label="Serving Requests"><!--[--><!--]--> Serving Requests <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/dangerkube/guide/1-welcome.html" class="nav-link" aria-label="Welcome"><!--[--><!--]--> Welcome <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/dangerkube/guide/2-getting-started.html" class="nav-link" aria-label="Getting Started"><!--[--><!--]--> Getting Started <!--[--><!--]--></a></div><div class="navbar-links-item"><a aria-current="page" href="/dangerkube/guide/3-running-code.html" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="Running Code"><!--[--><!--]--> Running Code <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/dangerkube/guide/4-going-online.html" class="nav-link" aria-label="Going Online"><!--[--><!--]--> Going Online <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/dangerkube/guide/5-serving-requests.html" class="nav-link" aria-label="Serving Requests"><!--[--><!--]--> Serving Requests <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><section class="sidebar-group"><p class="sidebar-heading">Running Code</p><ul class=""><li><!--[--><a aria-current="page" href="/dangerkube/guide/3-running-code.html#introducing-the-podinfo-app" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="Introducing the podinfo app"><!--[--><!--]--> Introducing the podinfo app <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/dangerkube/guide/3-running-code.html#pods" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="Pods"><!--[--><!--]--> Pods <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/dangerkube/guide/3-running-code.html#let-s-run-a-pod" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="Let&#39;s Run a Pod"><!--[--><!--]--> Let&#39;s Run a Pod <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/dangerkube/guide/3-running-code.html#replicasets" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="ReplicaSets"><!--[--><!--]--> ReplicaSets <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/dangerkube/guide/3-running-code.html#deployments" class="router-link-active router-link-exact-active nav-link sidebar-link" aria-label="Deployments"><!--[--><!--]--> Deployments <!--[--><!--]--></a><!----><!--]--></li></ul></section><!--]--><!--]--></ul><!--[--><!--]--></aside><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="running-code"><a class="header-anchor" href="#running-code">#</a> Running Code</h1><p>In this section, we will:</p><ul><li>Learn about the abstractions Kubernetes uses to run lots of pods at once</li><li>Start a little demo application called <a href="https://github.com/stefanprodan/podinfo" target="_blank" rel="noopener noreferrer">podinfo<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li><li>Start a shell inside the deployed app and play around with it</li><li>Scale the app up and down</li><li>Deploy a new version of the app</li></ul><p>Kubernetes runs code in the form of <strong>containers</strong> using <strong>images</strong> as the starting point. So thoroughout this section, we&#39;ll be talking about containers and images a lot.</p><div class="custom-container tip"><p class="custom-container-title">What&#39;s a container?</p><p>A <a href="https://www.docker.com/resources/what-container" target="_blank" rel="noopener noreferrer">container<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> is a form of packaging code so that you can run it in the same way on lots of different systems. A container is mostly the same thing as a <strong>Docker container</strong> – you can consider them to be the same for now.</p></div><div class="custom-container tip"><p class="custom-container-title">What&#39;s an image?</p><p>An image is a snapshot of a container, ready to run, but without any state. Think of an image as a container that&#39;s never been started. We use this image as a &quot;template,&quot; make a copy of it, and call the copy a container.</p></div><p>While this section focuses on running ready-built Docker containers inside a Kubernetes cluster, you may find value in learning the following so you can build and deploy your own app:</p><ul><li>Pull an image from <a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">Docker Hub<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></li><li>Run a Docker image locally</li><li>Package a project into a tagged Docker image using <code>docker build</code> with a <code>Dockerfile</code></li><li>Push a tagged Docker image to a registry</li></ul><p>If you&#39;re interested in learning more Docker skills, check out these resources:</p><ul><li><a href="https://www.docker.com/101-tutorial" target="_blank" rel="noopener noreferrer">Official Docker 101 Tutorial<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>: An interactive tutorial that you can run in Docker locally or in a ready-to-go cloud environment</li><li><a href="https://docker-curriculum.com/" target="_blank" rel="noopener noreferrer">Docker Curriculum<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>: A straightforward tutorial that covers building your first Docker app and putting it online via AWS Elastic Container Service</li></ul><p>OK, let&#39;s get started!</p><h2 id="introducing-the-podinfo-app"><a class="header-anchor" href="#introducing-the-podinfo-app">#</a> Introducing the podinfo app</h2><p><a href="https://github.com/stefanprodan/podinfo" target="_blank" rel="noopener noreferrer">Podinfo<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> is a Hello World-style application. It displays a cute logo, shows some stats about the system on which it&#39;s running, and lets you ping it to show that it&#39;s answering web requests in realtime.</p><p>We will deploy this podinfo app to your cluster. If you want to try it locally, you can run:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>docker run -it -p <span class="token number">9898</span>:9898 stefanprodan/podinfo
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Then visit http://localhost:9898 to see the cuttlefish:</p><p><img src="/dangerkube/assets/podinfo.c40db6c3.png" alt="podinfo cuttlefish"></p><h2 id="pods"><a class="header-anchor" href="#pods">#</a> Pods</h2><p>When Kubernetes needs to run a container, it packages one or more containers into a <strong>Pod</strong>. The <a href="https://kubernetes.io/docs/concepts/workloads/pods/" target="_blank" rel="noopener noreferrer">Kubernetes docs<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> suggest that you can think of a Pod &quot;as in a pod of whales or a pea pod.&quot;</p><p>In this section, we will only run one container in each Pod. In the field, you might see multiple containers in the same Pod.</p><details class="custom-container details"><summary>Why would I want to run multiple containers in one Pod?</summary><p>When containers share a Pod, they:</p><ul><li><strong>share</strong> network resources</li><li>can <strong>share</strong> filesystem mounts, allowing them to use the same directories cooperatively</li><li><strong>do not</strong> share CPU quotas</li><li><strong>do not</strong> share memory quotas</li></ul><p>In a Pod with multiple containers, an auxiliary container often provides one of the following features to an app container:</p><ul><li>authenticated database access</li><li>some kind of frontend, such as an nginx webserver or proxy</li><li>log forwarding</li><li>metric capturing</li></ul></details><p>A Pod&#39;s job is to make sure that its containers start up and stay up. If a container crashes, the Pod is responsible for restarting it. But a Pod only knows about each of its container instances, and a Pod can&#39;t be split among Nodes of your cluster.</p><p>If you only run one Pod for your app, and the pod is running on a Node, and that Node crashes, your app goes offline.</p><h2 id="let-s-run-a-pod"><a class="header-anchor" href="#let-s-run-a-pod">#</a> Let&#39;s Run a Pod</h2><p>We&#39;re going to build the YAML for a Pod by hand and run this Pod in your cluster.</p><p>Save this into a file called <code>pod.yaml</code>:</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>podinfo
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>container
      <span class="token key atrule">image</span><span class="token punctuation">:</span> stefanprodan/podinfo<span class="token punctuation">:</span>latest
      <span class="token key atrule">ports</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">9898</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Then apply it using kubectl:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ kubectl apply -f pod.yaml

pod/my-podinfo created
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Finally, check the status of your cluster:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ kubectl get pods

NAME         READY   STATUS    RESTARTS   AGE
my-podinfo   1/1     Running   0          10s
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Great! You&#39;ve created a pod named <code>my-podinfo</code>. Let&#39;s inspect it more closely with <code>kubectl describe</code>, a tool you can use to get detailed information about almost any resource:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ kubectl describe pod my-podinfo

Name:         my-podinfo
Namespace:    default
Priority:     0
Node:         docker-desktop/192.168.65.4
Start Time:   Wed, 02 Jun 2021 20:08:46 -0600
Labels:       &lt;none&gt;
Annotations:  &lt;none&gt;
Status:       Running
IP:           10.1.0.10
IPs:
  IP:  10.1.0.10
Containers:
  my-container:
    Container ID:   docker://1b9fa18cb68e79493f8d6db4ed53fc141fb08a10bde5a1794d8312597966b9dd
    Image:          stefanprodan/podinfo:latest
    Image ID:       docker-pullable://stefanprodan/podinfo@sha256:119b9b2db4e0e604b96f95976b85b120bc88a104cd908d7a8874d356e6067a4b
    Port:           9898/TCP
    Host Port:      0/TCP
    State:          Running
      Started:      Wed, 02 Jun 2021 20:08:49 -0600
    Ready:          True
    Restart Count:  0
    Environment:    &lt;none&gt;
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-zgsgh (ro)
Conditions:
  Type              Status
  Initialized       True
  Ready             True
  ContainersReady   True
  PodScheduled      True
Volumes:
  default-token-zgsgh:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-zgsgh
    Optional:    false
QoS Class:       BestEffort
Node-Selectors:  &lt;none&gt;
Tolerations:     node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                 node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type    Reason     Age   From               Message
  ----    ------     ----  ----               -------
  Normal  Scheduled  19s   default-scheduler  Successfully assigned default/my-podinfo to docker-desktop
  Normal  Pulling    17s   kubelet            Pulling image &quot;stefanprodan/podinfo:latest&quot;
  Normal  Pulled     16s   kubelet            Successfully pulled image &quot;stefanprodan/podinfo:latest&quot; in 930.767834ms
  Normal  Created    16s   kubelet            Created container my-container
  Normal  Started    16s   kubelet            Started container my-container
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><p>OK, that&#39;s a lot of info. What does it mean? Let&#39;s go over it from top to bottom, skipping the parts that don&#39;t matter much right now.</p><ul><li><strong>Name:</strong> This pod is named <code>my-podinfo</code>, just like you wrote in your YAML spec.</li><li><strong>Namespace:</strong> Every resource in Kubernetes lives in a <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/" target="_blank" rel="noopener noreferrer">namespace<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>. Resources in different namespaces are usually isolated from one another. Since you didn&#39;t specify a namespace in your Pod spec, your Pod was created in the <code>default</code> namespace.</li><li><strong>Labels</strong>: Labels are a way to tag resources so that other pieces of cluster infrastructure can understand them. For example, you might add a Label to a Pod such as <code>example.com/log-aggregation: enabled</code>, and this might tell tell another piece of infrastructure to capture this Pod&#39;s logs and send them to your third-party logging system.</li><li><strong>Annotations:</strong> Annotations are a way to tag resources so that humans can understand them. For example, you might have a Deployment, a Service, and an Ingress for one of your applications, and you might add a Label to each one such as <code>app: my-cool-web-service</code> so that you can query for all resources that belong to <code>my-cool-web-service</code>.</li><li><strong>IP:</strong> Each Pod on a Node has an IP address. This is a private IP inside the cluster network, and you can use it to talk to this Pod from other Pods inside the cluster. But it&#39;s easier to use a Service to talk to your Pods. We&#39;ll discuss Services in a future section.</li><li><strong>Containers:</strong> This describes each container in your pod, what image it&#39;s running, its current state, and how many times it&#39;s restarted since you started this pod. Containers restart when they exit or crash, so if the restart count is high, your container might be crashing a lot.</li><li><strong>Conditions:</strong> These describe the current state of your Pod and help you understand when something is going wrong.</li><li><strong>Volumes:</strong> These allow you to mount data into your Pod from an external source, such as a ConfigMap or Secret. We&#39;ll discuss Volumes in a future section.</li><li><strong>Events:</strong> These act as a timeline to show what happened with your Pod, from when your pod is scheduled onto a Node until the containers start successfully. If your Pod&#39;s containers are crashing and rebooting, the Events section is where you will usually learn about it.</li></ul><h2 id="replicasets"><a class="header-anchor" href="#replicasets">#</a> ReplicaSets</h2><p>A <strong>ReplicaSet</strong> acts as a supervisor to ensure Pods are online and working properly. Its responsibility is to ensure the Pod you specified is running and your Pod has the right number of <strong>replicas</strong> online.</p><p>If you start a Pod on its own, Kubernetes might destroy your Pod in the case of a Node crash or a disruptive Node upgrade. So we don&#39;t run Pods on their own for real apps. We use ReplicaSets, which are durable, to manage Pods, which are sort of transient.</p><p>Generally, we don&#39;t manage ReplicaSets directly. We use Deployments to manage ReplicaSets which manage our Pods. We tell you about ReplicaSets here because you&#39;ll see them used when you start working with Deployments.</p><h2 id="deployments"><a class="header-anchor" href="#deployments">#</a> Deployments</h2><p>A <strong>Deployment</strong> manages ReplicaSets in a declarative way:</p><ul><li>When you need <strong>more or less Pods</strong>, you change the replica count in the Deployment spec. The Deployment updates the underlying ReplicaSet&#39;s replica count for you.</li><li>When you need a <strong>different image</strong> running in your Pod, you change the Pod spec in the Deployment spec. The Deployment performs a <strong>rollout</strong> to create a new ReplicaSet and pods, and destroy the old ReplicaSet and pods, without interrupting your application&#39;s uptime.</li><li>When you want to change <strong>lots of things</strong> at once, you simply change the Deployment spec. The Deployment takes care of the changes that need to be made without you having to worry about the details.</li></ul><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">6/8/2021, 11:38:32 PM</span></div><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"> ← <a href="/dangerkube/guide/2-getting-started.html" class="nav-link" aria-label="Getting Started"><!--[--><!--]--> Getting Started <!--[--><!--]--></a></span><span class="next"><a href="/dangerkube/guide/4-going-online.html" class="nav-link" aria-label="Going Online"><!--[--><!--]--> Going Online <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main></div><!----><!--]--></div>
    <script type="module" src="/dangerkube/assets/app.e02cfe6d.js" defer></script>
  </body>
</html>
